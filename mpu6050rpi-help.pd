#N canvas 108 110 930 636 12;
#X obj 394 253 bng 15 250 50 0 empty empty calculate_offsets 17 7 0
10 -262144 -1 -1;
#X msg 525 360 14770.7 12608.6 -10677.4 -316.32 -156.091 123.227;
#X obj 284 161 metro 100;
#X obj 525 249 loadbang;
#X msg 569 333 set \$1 \$2 \$3 \$4 \$5 \$6;
#X obj 537 309 t b l;
#X msg 235 237 start;
#X msg 235 297 stop;
#X obj 284 142 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 416 10 First thing to do after installing a new sensor is to
calculate the offsets. To do so \, bang the second inlet. This will
take a couple of minutes \, and it is important that the sensor lay
still on a flat surface during this procedure. When this is done the
offsets will be output on the third outlet. It is recommended that
you set these in a message as done here \, and loadbang them into the
third inlet. That way \, you won't have to calculate the offsets for
the particular sensor again., f 39;
#X text 136 18 A bang on the first inlet outputs the x \, y z values
of the sensor to the first \, second and third outlet. You might want
to set up a metro object to get continuos updates., f 34;
#X text 10 419 1) Accelerometer range (0 \, 1 \, 2 or 3);
#X text 10 438 2) Gyroscope range (0 \, 1 \, 2 \, or 3);
#X text 10 457 3) Filter coefficient. This basically means how much
to trust the accelerometer vs gyro in the filtering algorithm., f
35;
#X text 11 399 Creation arguments:;
#X text 11 531 If you omit the creation arguments they will by default
be 0 0 0.95, f 35;
#X obj 459 411 s \$0-setoffset;
#X obj 537 286 r \$0-setoffset;
#X obj 329 584 nbx 5 14 -1e+37 1e+37 0 0 empty empty x 0 -8 0 10 -262144
-1 -1 -0.703498 256;
#X obj 409 548 nbx 10 14 -5000 5000 0 0 empty empty z 0 -8 0 10 -262144
-1 -1 0.354182 256;
#X obj 369 567 nbx 5 14 -1e+37 1e+37 0 0 empty empty y 0 -8 0 10 -262144
-1 -1 9.24423 256;
#X obj 329 514 unpack f f f;
#X obj 435 518 nbx 5 14 -1e+37 1e+37 0 0 empty empty x 0 -8 0 10 -262144
-1 -1 -0.153 256;
#X obj 515 478 nbx 10 14 -5000 5000 0 0 empty empty z 0 -8 0 10 -262144
-1 -1 0.968 256;
#X obj 475 497 nbx 5 14 -1e+37 1e+37 0 0 empty empty y 0 -8 0 10 -262144
-1 -1 -0.011 256;
#X obj 435 444 unpack f f f;
#X text 12 228 The mpu6050rpi external uses its own thread to calculate
the angles continuosly. To start or stop the thread \, send messages
"start" or "stop" to the first inlet., f 28;
#X text 521 526 The first outlet outputs the filtered x \, y and z
angles. These combines the accelerometer and gyroscope using a complimentary
filter., f 31;
#X text 622 447 The second outlet outputs offset compensated accelerometer
values in Gs., f 27;
#X obj 329 387 mpu6050rpi 0 0 21 0.95;
#X connect 0 0 29 1;
#X connect 1 0 29 2;
#X connect 2 0 29 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 5 1 4 0;
#X connect 6 0 29 0;
#X connect 7 0 29 0;
#X connect 8 0 2 0;
#X connect 17 0 5 0;
#X connect 21 0 18 0;
#X connect 21 1 20 0;
#X connect 21 2 19 0;
#X connect 25 0 22 0;
#X connect 25 1 24 0;
#X connect 25 2 23 0;
#X connect 29 0 21 0;
#X connect 29 1 25 0;
#X connect 29 2 16 0;
